<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TimeSignal</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/estilos.css">
</head>
<body>

<!-- PERMISS√ÉO DE √ÅUDIO -->
<div id="permissaoAudio" class="p-4 text-center"
     style="background:#fff4d6; border-bottom:3px solid #0B3D1F;">
    <h3>üîî Bem-vindo ao TimeSignal!</h3>
    <p class="mt-2">
        O TimeSignal avisa voc√™ quando uma tarefa chega no hor√°rio de <strong>in√≠cio</strong> e <strong>fim</strong>.
        Para funcionar, clique em "Permitir sons".
    </p>
    <button class="btn btn-success mt-3" onclick="pedirPermissaoAudio()">Permitir sons e come√ßar</button>
</div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color:#0B3D1F;">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">TimeSignal</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="menu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#tarefas">Tarefas</a></li>
        <li class="nav-item"><a class="nav-link" href="#observacoes">Observa√ß√µes</a></li>
        <li class="nav-item"><a class="nav-link" href="#produtividade">Produtividade</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- CARD EXPLICATIVO -->
<div class="container mt-4">
  <div class="card shadow-sm border-0" style="border-left:6px solid #0B3D1F; background:#e8f9ef; border-radius:12px;">
    <div class="card-body">
      <div class="d-flex align-items-center">
        <span style="font-size:40px; margin-right:10px;">üìò</span>
        <h4 class="card-title m-0" style="color:#0B3D1F; font-weight:700;">Como o TimeSignal funciona</h4>
      </div>

      <button class="btn btn-success mt-3" onclick="toggleCardInfo()">Mostrar explica√ß√£o</button>

      <div id="cardInfo" style="max-height:0; overflow:hidden; transition:max-height .45s ease;">
        <p class="mt-3">O TimeSignal organiza tarefas e anota√ß√£o, avisa com sons no in√≠cio e fim das tarefas, salva tudo no navegador e ajuda acompanhar a produtividade.</p>
        <ul style="font-size:17px;">
          <li>Adicione tarefas com t√≠tulo, in√≠cio e fim. Sons tocam automaticamente (se permitido).</li>
          <li> Ao concluir uma tarefa, ela vai para a aba de Produtividade.</li>
          <li>As observa√ß√µes agora s√£o uma <strong>lista</strong>: cada anota√ß√£o tem prioridade (verde/amarelo/vermelho), bot√£o concluir e excluir.</li>
          <li>Tudo √© armazenado no navegador (localStorage).</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- CONTE√öDO -->
<div class="container py-4">

  <!-- TAREFAS -->
  <section id="tarefas" class="mb-5">
    <h3 class="mb-3">Tarefas do Dia</h3>

    <div class="input-group mb-3">
      <input id="tituloInput" type="text" class="form-control" placeholder="T√≠tulo da tarefa">
      <input id="horarioInicio" type="time" class="form-control">
      <input id="horarioFim" type="time" class="form-control">
      <select id="urgenciaInput" class="form-select">
        <option value="normal">Normal (verde)</option>
        <option value="importante">Importante (amarelo)</option>
        <option value="urgente">Urgente (vermelho)</option>
      </select>
      <button class="btn btn-primary" onclick="adicionarTarefa()">Adicionar</button>
    </div>

    <ul id="listaTarefas" class="list-group mb-3"></ul>

    <div class="d-flex gap-2 mb-3">
      <button class="btn btn-danger" onclick="limparTodas()">Limpar Todas</button>
      <button class="btn btn-outline-secondary" onclick="exportarDados()">Exportar (JSON)</button>
    </div>

    <div>
      <label class="form-label fw-bold">Progresso do Dia</label>
      <div class="progress">
        <div id="barraProgresso" class="progress-bar" style="width:0%">0%</div>
      </div>
    </div>
  </section>

  <hr>

  <!-- OBSERVA√á√ïES (lista) -->
  <section id="observacoes" class="mb-5">
    <h3 class="mb-3">Observa√ß√µes</h3>

    <div class="row g-2 align-items-center mb-2">
      <div class="col-md-8">
        <input id="obsInput" type="text" class="form-control" placeholder="Escreva uma anota√ß√£o...">
      </div>
      <div class="col-md-2">
        <select id="obsUrgencia" class="form-select">
          <option value="normal">Normal (verde)</option>
          <option value="importante">Mais ou menos (amarelo)</option>
          <option value="urgente">Urgente (vermelho)</option>
        </select>
      </div>
      <div class="col-md-2 d-grid">
        <button class="btn btn-success" onclick="adicionarObservacao()">Adicionar anota√ß√£o</button>
      </div>
    </div>

    <ul id="listaObservacoes" class="list-group mb-3"></ul>

    <div class="d-flex gap-2 mb-3">
      <button class="btn btn-danger" onclick="limparObservacoes()">Limpar todas as observa√ß√µes</button>
      <button class="btn btn-outline-secondary" onclick="exportarObservacoes()">Exportar observa√ß√µes</button>
    </div>

    <h5>Hist√≥rico de Observa√ß√µes</h5>
    <div id="historicoObservacoes" class="mb-4"></div>
  </section>

  <hr>

  <!-- PRODUTIVIDADE -->
  <section id="produtividade" class="mb-5">
    <h3>An√°lise de Produtividade</h3>
    <p id="relatorioProdutividade">Nenhuma tarefa conclu√≠da ainda.</p>
    <div id="listaConcluidas"></div>
  </section>

</div>

<!-- AUDIOS -->
<audio id="audioInicio" src="./assets/sounds/inicio_trompete.mp3" preload="auto"></audio>
<audio id="audioFim" src="./assets/sounds/fim_acaaba.mp3" preload="auto"></audio>

<script src="js/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
